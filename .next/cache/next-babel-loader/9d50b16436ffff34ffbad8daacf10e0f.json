{"ast":null,"code":"import { q, client } from '../../utils/db';\n\nconst getAllContacts = () => {\n  return client.query(q.Map(q.Paginate(q.Match('allContacts'), {\n    size: 1\n  }), q.Lambda(x => q.Get(x))));\n};\n\nexport default async function handler(req, res) {\n  const contacts = await getAllContacts();\n  res.json(contacts);\n}","map":{"version":3,"sources":["C:/meusprojetos/fauna-db-poc/pages/api/contacts.js"],"names":["q","client","getAllContacts","query","Map","Paginate","Match","size","Lambda","x","Get","handler","req","res","contacts","json"],"mappings":"AAAA,SAASA,CAAT,EAAYC,MAAZ,QAA0B,gBAA1B;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAC3B,SAAOD,MAAM,CAACE,KAAP,CACLH,CAAC,CAACI,GAAF,CACAJ,CAAC,CAACK,QAAF,CACAL,CAAC,CAACM,KAAF,CAAQ,aAAR,CADA,EAEE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAFF,CADA,EAKAP,CAAC,CAACQ,MAAF,CAASC,CAAC,IAAIT,CAAC,CAACU,GAAF,CAAMD,CAAN,CAAd,CALA,CADK,CAAP;AASD,CAVD;;AAYA,eAAe,eAAeE,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC9C,QAAMC,QAAQ,GAAG,MAAMZ,cAAc,EAArC;AACAW,EAAAA,GAAG,CAACE,IAAJ,CAASD,QAAT;AACD","sourcesContent":["import { q, client } from '../../utils/db'\r\n\r\nconst getAllContacts = () => {\r\n  return client.query(\r\n    q.Map(\r\n    q.Paginate(\r\n    q.Match('allContacts'),\r\n      { size: 1 }\r\n     ),\r\n    q.Lambda(x => q.Get(x))\r\n   )\r\n )\r\n}\r\n\r\nexport default async function handler(req, res) {\r\n  const contacts = await getAllContacts()\r\n  res.json(contacts)\r\n}"]},"metadata":{},"sourceType":"module"}